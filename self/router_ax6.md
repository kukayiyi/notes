# 使用红米ax6路由器实现家庭远程访问



## 1、架构

路由器：红米ax6

系统：openwrt

目标：将ax6刷为openwrt后，部署ddns和wol服务，以便可以在家中无人值守的情况下远程开机并访问。

## 2、刷机

1.解锁ssh，参考https://xn--m80a.ml/openwrt/dev/10.html 

2.将系统刷为志平的qsdk系统，参考https://www.right.com.cn/forum/thread-4111331-1-1.html，进行到第五步为止。

3.刷写固件，恩山上有不少好用的固件，由于个人不需要过多杂功能，所以最终选择了https://www.right.com.cn/forum/thread-4560135-1-1.html中的少插件固件，贴中有刷写固件的方法，刷写完毕即可。

4.如果你想从刷好的ow固件（基于lean的固件编译）切成别的固件或者刷回qsdk，参考https://www.right.com.cn/forum/thread-5326459-1-1.html，将3步之后的换成你要刷的新固件（必须还是基于lean编译的固件）

## 3、部署服务

要实现远程访问，首先需要满足以下条件：

1.运营商分配的是公网ip，且光猫桥接（即在路由器上拨号而不是光猫），且运营商不能做屏蔽访问，这些需要和运营商沟通。要验证是否满足条件，可以尝试在远程主机上使用运营商分配的随机ip连接ssh到路由器。随机分配的ip不够方便，因此需要和域名绑定。

2.拥有域名。国内注册流程较长，我使用的是阿里云的域名



